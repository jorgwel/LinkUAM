<f:view
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.prime.com.tr/ui"
    xmlns:s="http://jboss.com/products/seam/taglib"
    contentType="text/html">
    <html>
        <head>
            <meta
                http-equiv="Content-Type"
                content=
                "text/html;
                charset=UTF-8"
                />

            <title>
                #{messages['panelcontrol.dialogo.canicas']}: #{ideaHome.instance.tituloIdea}
            </title>
            
        <p:resources/>
        <ui:include src="layout/codigoJavascript.xhtml"/>
        <ui:include src="layout/codigoCss.xhtml"/>
        </head>
        <body style="width: 620px !important; height: 400px !important">


        <h:form style="margin-top: 20px !important">

            <p:panel 
                style="width: 850px !important" >

                <f:facet name="header">
                    <h:outputText
                        value=
                        "#{messages['panelcontrol.ideas.muestracanicas']}: #{ideaHome.instance.tituloIdea}"
                        style=
                        "font-size: 14pt !important;"
                        />
                </f:facet>

                <p:dataTable
                    value="#{canicasIdea.resultList}"
                    var="_canica"
                    style="text-align: left !important;border-color: transparent !important"
                    paginator="true"
                    paginatorAlwaysVisible="false"
                    paginatorPosition="both"
                    paginatorTemplate=
                    "{CurrentPageReport}
                    {FirstPageLink}
                    {PreviousPageLink}
                    {PageLinks}
                    {NextPageLink}
                    {LastPageLink}"
                    rows="5"
                    emptyMessage="#{messages['panelcontrol.nohaycanicas']}"
                    >

                    <p:column styleClass="izq" width="40">
                        <p:graphicImage
                            value=
                            "/img/users/small/#{_canica.usuario.nombreImagenUsuario}"
                            height="45"
                            />
                    </p:column>

                    <p:column styleClass="izq" width="130" >
                        <f:facet name="header">
                            #{messages['panelcontrol.dialogo.nombre']}
                        </f:facet>
                        <h:outputText
                            value=
                            "#{_canica.usuario.nombreUsuario} #{_canica.usuario.apellidoPaternoUsuario}"
                            style=
                            "font-weight: bold;
                            font-size: 12pt !important;
                            width: 400px !important"
                            />
                    </p:column>
                    <p:column styleClass="izq" width="150">
                        <f:facet name="header">
                            #{messages['panelcontrol.dialogo.contacto']}
                        </f:facet>
                        <h:outputText
                            value=
                            "#{usuarioHome.obtenerContactos(_canica.usuario.idUsuario)}"
                            style=
                            "font-size: 12pt !important"
                            />
                    </p:column>

                    <p:column styleClass="izq" width="70">
                        <f:facet name="header">
                            #{messages['panelcontrol.dialogo.fecha']}
                        </f:facet>
                        <h:outputText
                            value=
                            "#{_canica.fechaCanica}"
                            style=
                            "font-size: 12pt !important"
                            >
                            <f:convertDateTime
                                locale="es"
                                pattern="dd'-'MMM'-'yyyy" />
                        </h:outputText>
                    </p:column>


                    <p:column styleClass="izq" width="250">
                        <f:facet name="header">
                            #{messages['panelcontrol.dialogo.descripcionnecesidad']}
                        </f:facet>
                        <h:outputText
                            value=
                            "#{_canica.necesidad.descripcionNecesidad}"
                            style=
                            "font-size: 11pt !important"
                            />
                    </p:column>

                    <p:column styleClass="izq" width="60">
                        <f:facet name="header">
                            #{messages['panelcontrol.eliminar']}
                        </f:facet>
                        <p:graphicImage value="/img/acciones/delete.png" />
                    </p:column>

                </p:dataTable>
            </p:panel>
            <s:div 
                style=
                "margin-top: 15px !important;
                text-align: center !important"
                >
                <h:form style="margin-top: 40px !important;text-align: center !important">
                    <p:commandLink
                        value="#{messages['panelcontrol.dialogo.aceptar']}"
                        onclick="window.close()"
                        styleClass="botonnaranja"
                        ajax="true"
                        style=
                        "font-family: arial;
                        position: absolute;
                        left: 330px;"
                        />
                </h:form>
            </s:div>
        </h:form>
        </body>
    </html>

</f:view>